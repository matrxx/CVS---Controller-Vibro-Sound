<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vibration Music Composer</title>
    
    <!-- CSS -->
    <link rel="stylesheet" href="src/css/main.css">
    <link rel="stylesheet" href="src/css/sequencer.css">
    <link rel="stylesheet" href="src/css/controls.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>🎵 CVS - ControllerVibroSound 🎮</h1>
            <div class="status">
                <div id="gamepadStatus">Connectez une manette et appuyez sur un bouton...</div>
            </div>
        </header>
        
        <main class="composer-section">
            <!-- Panneau de contrôle -->
            <aside class="control-panel">
                <section class="transport-section">
                    <h3>🎛️ Transport</h3>
                    <div class="transport-controls">
                        <button class="play" id="playBtn" disabled>▶️</button>
                        <button class="stop" id="stopBtn" disabled>⏹️</button>
                        <button class="clear" id="clearBtn">🗑️</button>
                    </div>
                </section>
                
                <section class="tempo-section">
                    <h3>⏱️ Tempo</h3>
                    <input type="range" id="bpmSlider" min="60" max="200" value="120">
                    <div class="bpm-display" id="bpmDisplay">120 BPM</div>
                </section>
                
                <section class="vibration-section">
                    <h3>🔊 Intensité Vibration</h3>
                    <div class="intensity-controls">
                        <label>Moteur faible:</label>
                        <input type="range" id="weakIntensity" min="0" max="1" step="0.1" value="0.5">
                        <span id="weakValue">50%</span>
                        
                        <label>Moteur fort:</label>
                        <input type="range" id="strongIntensity" min="0" max="1" step="0.1" value="0.8">
                        <span id="strongValue">80%</span>
                    </div>
                    
                    <div class="test-controls">
                        <button id="testWeakBtn">Test Faible</button>
                        <button id="testStrongBtn">Test Fort</button>
                        <button id="testBothBtn">Test Combiné</button>
                    </div>
                </section>
                
                <section class="presets-section">
                    <h3>🎼 Patterns</h3>
                    <div class="pattern-presets" id="presetButtons">
                        <!-- Généré par JavaScript -->
                    </div>
                    <div class="pattern-actions">
                        <button id="savePatternBtn">💾 Sauvegarder</button>
                        <button id="loadPatternBtn">📁 Charger</button>
                        <input type="file" id="patternFileInput" accept=".json" style="display: none;">
                    </div>
                </section>
            </aside>
            
            <!-- Séquenceur -->
            <section class="sequencer">
                <h3>🎹 Séquenceur (16 pas)</h3>
                <div class="step-indicator" id="stepIndicator"></div>
                <div class="sequencer-controls">
                    <label for="stepsSelect">Nombre de pas:</label>
                    <select id="stepsSelect">
                        <option value="8">8 pas</option>
                        <option value="16" selected>16 pas</option>
                        <option value="32">32 pas</option>
                    </select>
                </div>
                <div class="note-grid" id="noteGrid">
                    <!-- Généré par JavaScript -->
                </div>
            </section>
        </main>
        
        <footer>
            <div class="info-panel">
                <div id="patternInfo">Pattern: Vide</div>
                <div id="playbackInfo">Statut: Arrêté</div>
            </div>
        </footer>
    </div>
    
    <!-- JavaScript -->
    <script src="src/js/GamepadManager.js"></script>
    <script src="src/js/VibrationEngine.js"></script>
    <script src="src/js/Sequencer.js"></script>
    <script src="src/js/PatternManager.js"></script>
    <script src="src/js/UIController.js"></script>
    <script src="src/js/main.js"></script>
</body>
</html>